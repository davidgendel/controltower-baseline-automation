{
  "name": "Basic Security Tier",
  "description": "Minimal security restrictions for development environments",
  "policies": [
    {
      "name": "PreventRootAccess",
      "description": "Prevent root user access to sensitive operations",
      "policy": {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Sid": "PreventRootAccess",
            "Effect": "Deny",
            "Principal": {
              "AWS": "*"
            },
            "Action": [
              "organizations:LeaveOrganization",
              "account:CloseAccount"
            ],
            "Resource": "*",
            "Condition": {
              "StringEquals": {
                "aws:PrincipalType": "Root"
              }
            }
          }
        ]
      }
    },
    {
      "name": "PreventSecurityResourceDeletion",
      "description": "Prevent deletion of core security resources",
      "policy": {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Sid": "PreventSecurityResourceDeletion",
            "Effect": "Deny",
            "Principal": {
              "AWS": "*"
            },
            "Action": [
              "iam:DeleteRole",
              "iam:DeletePolicy",
              "cloudtrail:DeleteTrail",
              "cloudtrail:StopLogging",
              "config:DeleteConfigurationRecorder",
              "config:DeleteDeliveryChannel",
              "config:StopConfigurationRecorder"
            ],
            "Resource": [
              "arn:aws:iam::*:role/AWSControlTower*",
              "arn:aws:iam::*:role/aws-controltower-*",
              "arn:aws:iam::*:policy/AWSControlTower*",
              "arn:aws:cloudtrail:*:*:trail/aws-controltower-*",
              "arn:aws:config:*:*:configuration-recorder/aws-controltower-*",
              "arn:aws:config:*:*:delivery-channel/aws-controltower-*"
            ]
          }
        ]
      }
    },
    {
      "name": "RequireMFAForSensitiveOperations",
      "description": "Require MFA for sensitive operations",
      "policy": {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Sid": "RequireMFAForSensitiveOperations",
            "Effect": "Deny",
            "Principal": {
              "AWS": "*"
            },
            "Action": [
              "iam:CreateUser",
              "iam:DeleteUser",
              "iam:CreateRole",
              "iam:AttachUserPolicy",
              "iam:AttachRolePolicy",
              "iam:PutUserPolicy",
              "iam:PutRolePolicy"
            ],
            "Resource": "*",
            "Condition": {
              "BoolIfExists": {
                "aws:MultiFactorAuthPresent": "false"
              }
            }
          }
        ]
      }
    }
  ]
}
